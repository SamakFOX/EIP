# 8-2. 고급 SQL 작성  

## 목차
- [1. INDEX](#INDEX)
- [2. VIEW](#VIEW)
- [3. SubQuery](#SubQuery)

<a id="INDEX"></a>

---
### **♣ 인덱스 (INDEX)**  
---  

· 인덱스는 자료를 빠르고 효율적으로 검색하기 위해 사용한다.  
· 위치(주소)를 관리,기억하는 [**인덱스파일**]과 실제 데이터를 기억하는 [**데이터파일**]로 구성된다.  
· 데이터를 검색할때는 먼저 인덱스파일에서 주소를 찾고 주소에 있는 데이터를 읽는다.  

· 기본인덱스 (Primary Index) : 기본키 속성으로 만든 인덱스  
· 보조인덱스 (Secondary Index) : 일반 속성으로 만든 인덱스  
> 인덱스는 [ 키값, 주소 ] 쌍으로 저장된다.  

[ 장점 ] 검색 속도 향상, 시스템 부하 감소  
[ 단점 ] 추가 DB 공간 필요, 잦은 변경작업으로 인한 성능저하  
> 변경이 잦고 양이 많은 데이터에는 인덱스를 만들지 않는 것이 성능상 유리하다.  

### ① 인덱스 개념  

<참고> {} : 반복, [] : 생략가능, | : 선택  
```sql
CREATE [UNIQUE] INDEX 인덱스명 ON 테이블명 (속성명 ASC | DESC);
```
★ UNIQUE : 중복값 없이 모든 속성값이 고유값을 갖도록 지정 (해당 속성이 이미 unique거나, 중복이 상관없을때는 생략 가능)  

| CREATE문 인덱스 생성 예시 |
|---|

```sql
CREATE UNIQUE INDEX Student_idx ON Student(st_num ASC);
```

### ② 인덱스 구조  
2-1. B-트리 : 효율 증대를 위해 균형있는 트리구조 차용 → Balanced Tree Index  

★ 검색은 루트노드에서부터 시작한다. → 업다운방식  
★ 모든 리프노드(단말노드)는 같은 레벨에 있다.  
★ 차수가 m일때 루트노드와 리프노드를 제외한 모든 노드는 최소 m/2개 최대 m개의 서브트리를 갖는다.  
